<template>
    <div>
        <nav class="navbar">
            <!-- Logo å’Œåå­— -->
            <div class="brand">
                <!-- <img src="static/img/logo.jpeg" alt="Logo"> -->
                <span>ğ“”mptyç©ºç©º
                </span>
            </div>
            <router-link to="/Navi" class="router-link">ä¸»é¡µ</router-link>
            <router-link to="/Navi/AllTags" class="router-link">æ ‡ç­¾</router-link>
            <router-link to="/Navi/AllCategory" class="router-link">åˆ†ç±»</router-link>
            <router-link to="/Navi/Test" class="router-link">å†™æ–‡ç« </router-link>
            <router-link to="/Navi/AboutAuthor" class="router-link">å…³äºä½œè€…</router-link>
            <!-- æœç´¢æ¡† -->
            <div class="search-box">
                <input type="text" v-model="articleName" placeholder="è¾“å…¥æ–‡ç« é¢˜ç›®...">
                <router-link :to="searchLink" class="router-link">æœç´¢</router-link>
            </div>
            <div class="user-info-container">
                <div class="user-info">
                    <img :src="avatar" alt="User Avatar">
                    <!-- <span class="username" @click="userInfo">{{ username }}</span> -->
                    <router-link to="/Navi/UserInfo" class="router-link">{{ username }}</router-link>

                    <!-- åœ¨ä½ çš„ç»„ä»¶æ¨¡æ¿ä¸­ -->
                    <!-- <router-link @click="navigateToUserInfo" class="router-link">{{ username }}</router-link> -->

                    <div class="buttons">
                        <a href="#" class="button" @click="logout">é€€å‡º</a>
                    </div>
                </div>
            </div>

        </nav>
        <router-view></router-view>
        <div class="copyright">
            <p>&copy; 2023 Emptyç©ºç©º. All rights reserved. | Designed with â¤ï¸ by delete217</p>
        </div>
    </div>
</template>
<script>

export default {
    name: 'Nav',
    data() {
        return {
            username: localStorage.getItem("Username"),
            avatar: localStorage.getItem("Avatar"),
            articleName: '',
        }
    },
    computed: {
        searchLink() {
            return {
                name: 'SearchArticle',
                query: { articleName: this.articleName }
            };
        },
    },
    methods: {
        logout() {
            localStorage.setItem("Token", null);
            localStorage.setItem("Username", "æœªç™»å½•");
            localStorage.setItem("Avatar", "/static/img/notlogin.jpg");
            this.$router.push({ name: 'Index' });
        },

    }
};
</script>
<style>
.navbar {
    display: flex;
    justify-content: space-evenly;
    align-items: center;
    /* å‚ç›´å±…ä¸­ */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 2px;
    /* è°ƒæ•´ä¸Šä¸‹å†…è¾¹è· */
}

.router-link {
    text-decoration: none;
    color: #333;
    font-size: 16px;
    padding: 8px 12px;
    /* è°ƒæ•´ä¸Šä¸‹å†…è¾¹è·ï¼Œå·¦å³å†…è¾¹è· */
    border-radius: 10px;
    transition: background-color 0.3s ease;


    &:hover {
        background-color: #cf1111;
    }
}

/* æ·»åŠ æ ·å¼ä»¥å¯¹é½ logo å’Œåå­— */
.brand {
    display: flex;
    align-items: center;
    margin-right: 20px;
    /* è°ƒæ•´ logo å’Œåå­— ä¸å…¶ä»–å¯¼èˆªé“¾æ¥çš„é—´è· */
}

.brand img {
    width: 40px;
    /* æ ¹æ®éœ€è¦è°ƒæ•´ logo çš„å¤§å° */
    height: auto;
    margin-right: 10px;
    /* è°ƒæ•´ logo å’Œåå­— ä¹‹é—´çš„é—´è· */
}

.brand span {
    font-size: 18px;
    font-family: 'cursive';
    /* é€‰æ‹©ä¸€ä¸ªæ‰‹å†™æˆ–è‰ä¹¦é£æ ¼çš„å­—ä½“ */
    color: #333;
    /* å­—ä½“é¢œè‰² */
    transition: color 0.3s ease;
    /* æ·»åŠ é¢œè‰²å˜åŒ–çš„è¿‡æ¸¡æ•ˆæœ */
}

.brand span:hover {
    background-color: #cf1111;
    /* é¼ æ ‡æ‚¬åœæ—¶çš„èƒŒæ™¯é¢œè‰² */
    color: #fff;
    /* é¼ æ ‡æ‚¬åœæ—¶çš„æ–‡å­—é¢œè‰² */
    border-radius: 5px;
    /* é¼ æ ‡æ‚¬åœæ—¶çš„åœ†è§’æ•ˆæœ */

    /* åœ¨ä¸Šé¢çš„æ ·å¼åŸºç¡€ä¸Šæ·»åŠ ä¸‹é¢çš„æ ·å¼ */
}

.search-box {
    display: flex;
    align-items: center;
}

.search-box input {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    margin-right: 10px;
    outline: none;
    /* å»é™¤è¾“å…¥æ¡†çš„è½®å»“è¾¹æ¡† */
}

.search-box button {
    padding: 8px 12px;
    border: none;
    border-radius: 4px;
    background-color: #0056b3;
    color: #fff;
    cursor: pointer;
}

.search-box button:hover {
    background-color: #cf1111;
}


.user-info-container {
    position: relative;
}

.user-info {
    position: relative;
    display: flex;
    align-items: center;
}

.user-info img {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    margin-left: 10px;
    cursor: pointer;
    /* æ·»åŠ é¼ æ ‡æŒ‡é’ˆæ ·å¼ */
}

.user-info span {
    margin-left: 5px;
}

.username {
    color: #321bc9;
    text-decoration: underline;
    cursor: pointer;
    font-size: 18px;
    margin-right: 10px;
    /* æ·»åŠ å³è¾¹è·ï¼Œè°ƒæ•´å’Œé€€å‡ºæŒ‰é’®ä¹‹é—´çš„é—´éš” */
}

.buttons {
    display: flex;
    align-items: center;
    font-size: 14px;
}

.button {
    color: #79d87d;
    border: none;
    padding: 2px 2px;
    border-radius: 5px;
    cursor: pointer;
    margin-left: 10px;

    &:hover {
        background-color: #57bb5f;
    }
}


.copyright {
    background-color: #333;
    color: #ffffff;
    text-align: center;
    padding: 0px;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
}
</style>